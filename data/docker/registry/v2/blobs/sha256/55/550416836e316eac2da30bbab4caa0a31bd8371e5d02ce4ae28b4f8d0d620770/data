{"architecture":"amd64","config":{"Hostname":"","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"ExposedPorts":{"80/tcp":{}},"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","NGINX_VERSION=1.15.12-1~stretch","NJS_VERSION=1.15.12.0.3.1-1~stretch","TZ=Asia/Shanghai"],"Cmd":["nginx","-g","daemon off;"],"Image":"sha256:4e38a5ed8aea5a042d5f2188c0296b79e81b3f3b76fd7aae51d4687d1d35eda0","Volumes":null,"WorkingDir":"","Entrypoint":null,"OnBuild":null,"Labels":{"maintainer":"NGINX Docker Maintainers \u003cdocker-maint@nginx.com\u003e"},"StopSignal":"SIGTERM"},"container":"2c4bdc723fc55355665135c34c5a05d662a82530b08414eff287aed944a6bc90","container_config":{"Hostname":"2c4bdc723fc5","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"ExposedPorts":{"80/tcp":{}},"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","NGINX_VERSION=1.15.12-1~stretch","NJS_VERSION=1.15.12.0.3.1-1~stretch","TZ=Asia/Shanghai"],"Cmd":["/bin/sh","-c","#(nop) ","CMD [\"nginx\" \"-g\" \"daemon off;\"]"],"Image":"sha256:4e38a5ed8aea5a042d5f2188c0296b79e81b3f3b76fd7aae51d4687d1d35eda0","Volumes":null,"WorkingDir":"","Entrypoint":null,"OnBuild":null,"Labels":{"maintainer":"NGINX Docker Maintainers \u003cdocker-maint@nginx.com\u003e"},"StopSignal":"SIGTERM"},"created":"2019-10-16T06:47:58.770625195Z","docker_version":"19.03.2","history":[{"created":"2019-05-08T00:33:32.152758355Z","created_by":"/bin/sh -c #(nop) ADD file:fcb9328ea4c1156709f3d04c3d9a5f3667e77fb36a4a83390ae2495555fc0238 in / "},{"created":"2019-05-08T00:33:32.718284983Z","created_by":"/bin/sh -c #(nop)  CMD [\"bash\"]","empty_layer":true},{"created":"2019-05-08T03:01:16.010671568Z","created_by":"/bin/sh -c #(nop)  LABEL maintainer=NGINX Docker Maintainers \u003cdocker-maint@nginx.com\u003e","empty_layer":true},{"created":"2019-05-08T03:01:16.175452264Z","created_by":"/bin/sh -c #(nop)  ENV NGINX_VERSION=1.15.12-1~stretch","empty_layer":true},{"created":"2019-05-08T03:01:16.36342084Z","created_by":"/bin/sh -c #(nop)  ENV NJS_VERSION=1.15.12.0.3.1-1~stretch","empty_layer":true},{"created":"2019-05-08T03:01:40.497446007Z","created_by":"/bin/sh -c set -x \t\u0026\u0026 apt-get update \t\u0026\u0026 apt-get install --no-install-recommends --no-install-suggests -y gnupg1 apt-transport-https ca-certificates \t\u0026\u0026 \tNGINX_GPGKEY=573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62; \tfound=''; \tfor server in \t\tha.pool.sks-keyservers.net \t\thkp://keyserver.ubuntu.com:80 \t\thkp://p80.pool.sks-keyservers.net:80 \t\tpgp.mit.edu \t; do \t\techo \"Fetching GPG key $NGINX_GPGKEY from $server\"; \t\tapt-key adv --keyserver \"$server\" --keyserver-options timeout=10 --recv-keys \"$NGINX_GPGKEY\" \u0026\u0026 found=yes \u0026\u0026 break; \tdone; \ttest -z \"$found\" \u0026\u0026 echo \u003e\u00262 \"error: failed to fetch GPG key $NGINX_GPGKEY\" \u0026\u0026 exit 1; \tapt-get remove --purge --auto-remove -y gnupg1 \u0026\u0026 rm -rf /var/lib/apt/lists/* \t\u0026\u0026 dpkgArch=\"$(dpkg --print-architecture)\" \t\u0026\u0026 nginxPackages=\" \t\tnginx=${NGINX_VERSION} \t\tnginx-module-xslt=${NGINX_VERSION} \t\tnginx-module-geoip=${NGINX_VERSION} \t\tnginx-module-image-filter=${NGINX_VERSION} \t\tnginx-module-njs=${NJS_VERSION} \t\" \t\u0026\u0026 case \"$dpkgArch\" in \t\tamd64|i386) \t\t\techo \"deb https://nginx.org/packages/mainline/debian/ stretch nginx\" \u003e\u003e /etc/apt/sources.list.d/nginx.list \t\t\t\u0026\u0026 apt-get update \t\t\t;; \t\t*) \t\t\techo \"deb-src https://nginx.org/packages/mainline/debian/ stretch nginx\" \u003e\u003e /etc/apt/sources.list.d/nginx.list \t\t\t\t\t\t\u0026\u0026 tempDir=\"$(mktemp -d)\" \t\t\t\u0026\u0026 chmod 777 \"$tempDir\" \t\t\t\t\t\t\u0026\u0026 savedAptMark=\"$(apt-mark showmanual)\" \t\t\t\t\t\t\u0026\u0026 apt-get update \t\t\t\u0026\u0026 apt-get build-dep -y $nginxPackages \t\t\t\u0026\u0026 ( \t\t\t\tcd \"$tempDir\" \t\t\t\t\u0026\u0026 DEB_BUILD_OPTIONS=\"nocheck parallel=$(nproc)\" \t\t\t\t\tapt-get source --compile $nginxPackages \t\t\t) \t\t\t\t\t\t\u0026\u0026 apt-mark showmanual | xargs apt-mark auto \u003e /dev/null \t\t\t\u0026\u0026 { [ -z \"$savedAptMark\" ] || apt-mark manual $savedAptMark; } \t\t\t\t\t\t\u0026\u0026 ls -lAFh \"$tempDir\" \t\t\t\u0026\u0026 ( cd \"$tempDir\" \u0026\u0026 dpkg-scanpackages . \u003e Packages ) \t\t\t\u0026\u0026 grep '^Package: ' \"$tempDir/Packages\" \t\t\t\u0026\u0026 echo \"deb [ trusted=yes ] file://$tempDir ./\" \u003e /etc/apt/sources.list.d/temp.list \t\t\t\u0026\u0026 apt-get -o Acquire::GzipIndexes=false update \t\t\t;; \tesac \t\t\u0026\u0026 apt-get install --no-install-recommends --no-install-suggests -y \t\t\t\t\t\t$nginxPackages \t\t\t\t\t\tgettext-base \t\u0026\u0026 apt-get remove --purge --auto-remove -y apt-transport-https ca-certificates \u0026\u0026 rm -rf /var/lib/apt/lists/* /etc/apt/sources.list.d/nginx.list \t\t\u0026\u0026 if [ -n \"$tempDir\" ]; then \t\tapt-get purge -y --auto-remove \t\t\u0026\u0026 rm -rf \"$tempDir\" /etc/apt/sources.list.d/temp.list; \tfi"},{"created":"2019-05-08T03:01:41.355881721Z","created_by":"/bin/sh -c ln -sf /dev/stdout /var/log/nginx/access.log \t\u0026\u0026 ln -sf /dev/stderr /var/log/nginx/error.log"},{"created":"2019-05-08T03:01:41.538214273Z","created_by":"/bin/sh -c #(nop)  EXPOSE 80","empty_layer":true},{"created":"2019-05-08T03:01:41.740886057Z","created_by":"/bin/sh -c #(nop)  STOPSIGNAL SIGTERM","empty_layer":true},{"created":"2019-05-08T03:01:41.947151778Z","created_by":"/bin/sh -c #(nop)  CMD [\"nginx\" \"-g\" \"daemon off;\"]","empty_layer":true},{"created":"2019-10-16T06:47:54.858594889Z","created_by":"/bin/sh -c #(nop)  ARG MANAGER_IP","empty_layer":true},{"created":"2019-10-16T06:47:55.017812284Z","created_by":"/bin/sh -c #(nop)  ARG WORKER_IP","empty_layer":true},{"created":"2019-10-16T06:47:55.264053453Z","created_by":"/bin/sh -c #(nop) COPY file:ee2272deb3b2af939d2268bac104d460054153d46bac2b69c1ffd80b289f885e in /etc/nginx/conf.d/default.conf.template "},{"created":"2019-10-16T06:47:55.509094912Z","created_by":"/bin/sh -c #(nop) COPY file:ba4655587e26acad48dcb5c985ddbbf9dd728dfed55fd3194d4cba32deb845e1 in /etc/nginx/nginx.conf "},{"created":"2019-10-16T06:47:56.39735198Z","created_by":"|2 MANAGER_IP=192.168.42.61 WORKER_IP=192.168.42.136 /bin/sh -c envsubst '${MANAGER_IP} ${WORKER_IP}' \u003c /etc/nginx/conf.d/default.conf.template \u003e /etc/nginx/conf.d/default.conf"},{"created":"2019-10-16T06:47:56.557794485Z","created_by":"/bin/sh -c #(nop)  ENV TZ=Asia/Shanghai","empty_layer":true},{"created":"2019-10-16T06:47:57.470881107Z","created_by":"|2 MANAGER_IP=192.168.42.61 WORKER_IP=192.168.42.136 /bin/sh -c ln -snf /usr/share/zoneinfo/$TZ /etc/localtime \u0026\u0026 echo $TZ \u003e /etc/timezone"},{"created":"2019-10-16T06:47:58.598134627Z","created_by":"|2 MANAGER_IP=192.168.42.61 WORKER_IP=192.168.42.136 /bin/sh -c dpkg-reconfigure -f noninteractive tzdata"},{"created":"2019-10-16T06:47:58.770625195Z","created_by":"/bin/sh -c #(nop)  CMD [\"nginx\" \"-g\" \"daemon off;\"]","empty_layer":true}],"os":"linux","rootfs":{"type":"layers","diff_ids":["sha256:6270adb5794c6987109e54af00ab456977c5d5cc6f1bc52c1ce58d32ec0f15f4","sha256:6ba094226eea86e21761829b88bdfdc9feb14bd83d60fb7e666f0943253657e8","sha256:332fa54c58864e2dcd3df0ad88c69b2707d45f2d8121dad6278a15148900e490","sha256:3508bd76c25e627fe82495863c438579f4fb5ea73ed45ad1bf21444930521949","sha256:d41d9cca0987a6a77f1ce599d387b80fc44ba46ad4075a08ff1c8a99c5236228","sha256:ac7dbb772183af86e3efa7bef621b7d454975c074e7410fa489f1829f4b335e0","sha256:93a92160e0ca28979df8a0c95103a5576b4e377468ac01727352b5a4e05aca07","sha256:47145bc50f493253f17de783d36bdfe9aadc157d7553fdd4f59eea7eb80d38bc"]}}